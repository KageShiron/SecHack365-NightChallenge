<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script>
        // https://tech-blog.s-yoshiki.com/2018/05/92/
        function hubeny(lat1, lng1, lat2, lng2) {
            function rad(deg) {
                return deg * Math.PI / 180;
            }
            //degree to radian
            lat1 = rad(lat1);
            lng1 = rad(lng1);
            lat2 = rad(lat2);
            lng2 = rad(lng2);

            // 緯度差
            var latDiff = lat1 - lat2;
            // 経度差算
            var lngDiff = lng1 - lng2;
            // 平均緯度
            var latAvg = (lat1 + lat2) / 2.0;
            // 赤道半径
            var a = 6378137.0;
            // 極半径
            var b = 6356752.314140356;
            // 第一離心率^2
            var e2 = 0.00669438002301188;
            // 赤道上の子午線曲率半径
            var a1e2 = 6335439.32708317;

            var sinLat = Math.sin(latAvg);
            var W2 = 1.0 - e2 * (sinLat * sinLat);

            // 子午線曲率半径M
            var M = a1e2 / (Math.sqrt(W2) * W2);
            // 卯酉線曲率半径
            var N = a / Math.sqrt(W2);

            t1 = M * latDiff;
            t2 = N * Math.cos(latAvg) * lngDiff;
            return Math.sqrt((t1 * t1) + (t2 * t2));
        }

        function hitTest(coords1, coords2, radius) {
            let d = hubeny(coords1.latitude, coords1.longitude, coords2.latitude, coords2.longitude);
            return d < radius
        }

        document.addEventListener("load", () => {
            navigator.geolocation.getCurrentPosition(x => {
                //document.querySelector("#out").innerHTML = `緯度${x.coords.latitude}<br>経度${x.coords.longitude}`;
                if (hitTest(x.coords, 0, 0)) {
                    document.querySelector("#out").innerHTML = "にゃーん";
                }
            });
        });

        
    </script>
    <title>Document</title>
</head>

<body>
    <div id="out"></div>
    <script type='text/javascript' src='http://maps.google.com/maps/api/js?sensor=false'></script>
    
    <div id='map' style='width:700px; height:400px;'><br /></div>
    <script type="text/javascript">
     var myLatLng = new google.maps.LatLng(35.710139, 139.810833);
     var myMap = new google.maps.Map(document.getElementById('map'), {
      zoom: 8,
      center: myLatLng,
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      scaleControl: true,
      scrollwheel: false
     });
     new google.maps.Circle({
      center: myLatLng,       // 中心点(google.maps.LatLng)
      fillColor: '#ff0000',   // 塗りつぶし色
      fillOpacity: 0.5,       // 塗りつぶし透過度（0: 透明 ⇔ 1:不透明）
      map: myMap,             // 表示させる地図（google.maps.Map）
      radius: 95330,          // 半径（ｍ）
      strokeColor: '#ff0000', // 外周色
      strokeOpacity: 1,       // 外周透過度（0: 透明 ⇔ 1:不透明）
      strokeWeight: 1         // 外周太さ（ピクセル）
     });
    </script>
</body>

</html>